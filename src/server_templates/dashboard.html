<style>
body {
    font-family: sans-serif;
}
</style>
<script>
function action(label) {
  var statusElem = document.getElementById('actionstatus');
  if (statusElem) statusElem.textContent = 'Processing...';
  window.location = '/_' + label;
}
function check(label) {
  if (!window.confirm('Confirm '+label+'?'))
    return;
  action(label);
}
</script>

<div id="dashboarddiv">
  <h2>Proxy server dashboard</h2>
  <a href="/">Home</a>
  <p></p>
  <span id="actionstatus"></span>
  <ul>
    <li><a href="javascript:action('sessions')">sessions</a>: Session info and actions</li>
    <hr>
    <li><a href="javascript:action('roster')">roster</a>: List roster of students</li>
    <hr>
    <li><a href="javascript:action('twitter')">twitter</a>: View twitter stream status</li>
    <hr>
    <li><a href="javascript:action('cache')">proxy status</a>: Status of proxy cache and active connections</li>
    <hr>
    <li><a href="javascript:check('clear')">clear</a>: Clear all cached sessions</li>
    <hr>
    <li><a href="javascript:check('backup')">backup</a>: Backup all sessions</li>
    <hr>
    <li><a href="javascript:check('reload')">reload</a>: Restart proxy server</li>
    <hr>
    <li><a href="javascript:check('pull')">pull</a>: Pull updated source and restart proxy server</li>
    <hr>
    <li><a href="javascript:check('shutdown')">shutdown</a>: Shutdown proxy server</li>
  </ul>
  Respond to current interactive session: <a href="/_respond/{{interactive}}">{{interactive}}</a>
  <p></p>
</div>
