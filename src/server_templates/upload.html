<html>
<head>
<!-- upload template for slidoc server --->
<!-- upload parameters: site_name, session_types, upload_type, session_number, err_msg -->

{% include "base.html" %}

</head>
<body>

<h2>{{site_name}}</h2>
<h2>Upload session/data files</h2>

<b>
{% include "linkback.html" %}
</b>

<div id="slidoc-upload-form">
  <p></p>
  <div class="slidoc-err-msg" style="color: red; font-weight: bold;">{{err_msg}}</div>
  <form action="/{{site_name}}{% if site_name %}/{% end %}_upload" method="post" enctype="multipart/form-data" >
    <fieldset>
      {% if upload_type %}
        Uploading session: <b>{{ upload_type }}{% if str(session_number).isdigit() %}{{ '%02d' % int(session_number) }}{% end %}</b>
        <input type="hidden" name="sessiontype" value="{{ upload_type }}">
      {% else %}
        <label for="sessiontype">Session type:</label><br>
        <table>
        {% for session_type, session_label in session_types %}
        <tr><td><input type="radio" name="sessiontype" value="{{ session_type }}"> <b>{{ session_type }}</b></td><td> [{{ session_label }}]</td></tr>
        {% end %}
        <tr><td><input type="radio" name="sessiontype" value="raw"> <b>raw</b></td><td> [Raw web archive (zip)]</td></tr>
        </table>
        Session names will be of the form <tt>sessionType??</tt>, e.g., <tt>lecture01</tt>
      {% end %}
     <br>
     {% if upload_type == 'top' %}
     <input type="hidden" name="sessionnumber" value="">
     {% else %}
     <label for="sessionnumber">Session number:</label>
     <input type="number" id="sessionnumber" name="sessionnumber" value="{{ session_number }}">
     (needed only for non-top/raw cases; specify 0 to upload ToC header)<br>
     {% end %}
     <p></p>
     <label for="sessioncreate">Create blank session?</label>
     <input type="checkbox" id="sessioncreate" name="sessioncreate" value="create">
     <p></p>
     <label for="sessionmodify">Modify questions?</label>
     <input type="checkbox" id="sessionmodify" name="sessionmodify" value="modify">
     <p></p>
     <label for="upload1">Session file markdown (.md) or powerpoint (.pptx):</label><br>
     <input type="file" id="upload1" name="upload1"  accept=".md,.pptx" value="file1">
     <p></p>
     <label for="upload2">Zip archive with Markdown, images, HTML or data (.zip):</label><br>
     <input type="file" id="upload2" name="upload2"  accept=".zip" value="file2">
     <p></p>
     Images in the zip archive should have names of the form
     <code>sessionName/*.jpg</code> for <code>.pptx</code> files and of the
     form <code>sessionName_images/*.jpg</code> for <code>.md</code> files
   </fieldset>
   {% module xsrf_form_html() %}
   <div>
     <input id="slidoc-upload-submit" type="submit" value="Upload">
    </div>
  </form>
</div>

</body>
</html>
