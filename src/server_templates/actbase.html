<!-- actbase head template for slidoc server -->
<!-- actbase parameters: site_name, session_name -->

<script>
var slidocSiteName = '{{site_name}}'; 
var slidocSessionName = '{{session_name}}';

function slidocAction(actionName, sessionName) {
  slidocStatus(actionName);

  var url = '/_' + actionName;
  if (slidocSiteName)
    url = '/' + slidocSiteName + url
  if (sessionName || slidocSessionName)
    url += '/' + (sessionName || slidocSessionName);
  window.location = url;
}

function slidocConfirmAction(actionName) {
  slidocStatus(actionName);
  if (window.confirm('Confirm '+actionName+'?')) {
    slidocAction(actionName);
    return;
  }
  slidocStatus('');
}

function slidocPromptAction(actionName, prompt) {
  slidocStatus(actionName);
  var sessionName = window.prompt(prompt);
  if (!sessionName) {
    slidocStatus('');
    return;
  }
  slidocAction(actionName, sessionName);
}

function slidocStatus(label) {
  var statusElem = document.getElementById('slidoc-action-status');
  if (statusElem)
    statusElem.textContent = label ? 'Processing '+label+'...' : '';
}
</script>
