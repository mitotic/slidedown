<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>

<!-- actions template for slidoc server --->
<!-- actions parameters: site_name, session_name, root_admin, suspended -->

{% include "base.html" %}
{% include "actbase.html" %}

</head>
<body>

  <b>
  {% include "linkback.html" %}
  </b>

  <p></p>
  <h2>Site actions</h2>

  <p></p>
  <hr>

  <p></p>
  <h3><span id="slidoc-action-status"></span></h3>

  Suspend status: <b>{{suspended or 'none'}}</b><br>
  <p></p>

  <ul>
    <hr>
    <li><b><a class="clickable" href="javascript:slidocAction('twitter')">twitter</a></b>: View Twitter stream status</li>
    <hr>
    <li><b><a class="clickable" href="javascript:slidocPromptAction('backup','Backup dirname (end with hyphen to append timestamp):')">backup</a></b>: Backup of all module sessions to directory</li>
    <hr>
    <li><b><a class="clickable" href="javascript:slidocConfirmAction('restore')">restore</a></b>: Restore sheet from backup file</li>
  </ul>

  <b><a class="clickable" href="#" onclick="document.getElementById('advanced-opts').style.display=null;this.style.display='none';">Advanced site actions</a></b>

  <div id="advanced-opts" style="display: none; border: 1px solid; padding: 4px;">
  <b>Advanced dashboard actions:</b><p></p>

  {% if root_admin %}
  <ul>
    <li><b><a class="clickable" href="javascript:slidocAction('cache')">proxy status</a></b>: Status of proxy cache and active connections</li>
    <hr>
    <li><b><a class="clickable" href="javascript:slidocConfirmAction('freeze')">freeze</a></b>: Freeze all cached module sessions (clear to cancel freeze)</li>
    <li><b><a class="clickable" href="javascript:slidocConfirmAction('clear')">clear</a></b>: Clear all cached module sessions</li>
    {% if not site_name %}
    <li><b><a class="clickable" href="javascript:slidocConfirmAction('shutdown')">shutdown</a></b>: Shutdown proxy server</li>
    {% end %}
    <hr>
    <li><b><a class="clickable" href="javascript:slidocAction('browse')">browse</a></b>: Browse/upload all site files (<em>Use with care!</em>)</li>
    <hr>
    <li><b><a class="clickable" href="javascript:slidocPromptAction('sheet','Sheet name:')">sheet</a></b>: Display sheet</li>
    <li><b><a class="clickable" href="javascript:slidocPromptAction('getrow','Sheet name:')">getrow</a></b>: Get rows from sheet (e.g., <code>settings_slidoc, sessions_slidoc, roster_slidoc</code>)</li>
    <li><b><a class="clickable" href="javascript:slidocPromptAction('getcol''Sheet name:')">getcol</a></b>: Get columns from sheet</li>
  </ul>
  {% else %}
  (Only accessible to root admin)
  {% end %}
  </div>

</body>
</html>
